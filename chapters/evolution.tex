\chapter{Evolutionary algorithms}


%====================================================================================================
\section{Biological evolution}

%--------------------------------------------------------------------------------------------------
\subsection{Dawrwin theory and its modern form}
The scientific theory of evolution by natural selection was conceived independently by
Charles Darwin and Alfred Russel Wallace in the mid-19th century and was set out in detail in
Darwin's book On the Origin of Species.
Evolution by natural selection was first demonstrated by the observation that more offspring are
often produced than can possibly survive. 
This is followed by three observable facts about living organisms:
\begin{enumerate}
	\item  tphenotypic variatio - nraits vary among individuals with respect to their morphology,
		physiology and behaviour, 
	\item ddifferential fitnes - sifferent traits confer different rates of survival 
		and reproduction, 
	\item heritability of fitness - traits can be passed from generation to generation.
\end{enumerate}
Thus, in successive generations members of a population are more likely to be replaced by
the progenies of parents with favourable characteristics that have enabled them to survive and 
reproduce in their respective environments. 
In the early 20th century, other competing ideas of evolution such as mutationism and orthogenesis
were refuted as the modern synthesis reconciled Darwinian evolution with classical genetics,
which established adaptive evolution as being caused by natural selection acting on
Mendelian genetic variation.

All life on Earth shares a last universal common ancestor (LUCA) that lived approximately
3.5–3.8 billion years ago.
The fossil record includes a progression from early biogenic graphite, to microbial mat fossils,
to fossilised multicellular organisms.
Existing patterns of biodiversity have been shaped by repeated formations of new species 
(speciation), changes within species (anagenesis) and loss of species (extinction) throughout the 
evolutionary history of life on Earth.
Morphological and biochemical traits are more similar among species that share a more recent 
common ancestor, and can be used to reconstruct phylogenetic trees.

Evolution in organisms occurs through changes in heritable traits—the inherited characteristics of
an organism. 
In humans, for example, eye colour is an inherited characteristic and an individual might inherit 
the "brown-eye trait" from one of their parents.
Inherited traits are controlled by genes and the complete set of genes within an organism's genome
(genetic material) is called its genotype.

The complete set of observable traits that make up the structure and behaviour of an organism is
called its phenotype. 
These traits come from the interaction of its genotype with the environment. 
As a result, many aspects of an organism's phenotype are not inherited. For example, suntanned skin
comes from the interaction between a person's genotype and sunlight; thus, suntans are not passed
on to people's children.
However, some people tan more easily than others, due to differences in genotypic variation;
a striking example are people with the inherited trait of albinism,
who do not tan at all and are very sensitive to sunburn.

Heritable traits are passed from one generation to the next via DNA, a molecule that encodes 
genetic information. DNA is a long biopolymer composed of four types of bases.
The sequence of bases along a particular DNA molecule specify the genetic information,
in a manner similar to a sequence of letters spelling out a sentence.
Before a cell divides, the DNA is copied, so that each of the resulting two cells will inherit the
DNA sequence. Portions of a DNA molecule that specify a single functional unit are called genes;
different genes have different sequences of bases.
Within cells, the long strands of DNA form condensed structures called chromosomes.
The specific location of a DNA sequence within a chromosome is known as a locus.
If the DNA sequence at a locus varies between individuals, the different forms of this sequence
are called alleles. DNA sequences can change through mutations, producing new alleles.
If a mutation occurs within a gene, the new allele may affect the trait that the gene controls,
altering the phenotype of the organism.
However, while this simple correspondence between an allele and a trait works in some cases, 
most traits are more complex and are controlled by quantitative trait loci
(multiple interacting genes).

Recent findings have confirmed important examples of heritable changes that cannot be explained by
changes to the sequence of nucleotides in the DNA.
These phenomena are classed as epigenetic inheritance systems.
DNA methylation marking chromatin, self-sustaining metabolic loops, gene silencing by RNA 
interference and the three-dimensional conformation of proteins (such as prions) are areas where
epigenetic inheritance systems have been discovered at the organismic level. 
Developmental biologists suggest that complex interactions in genetic networks and communication 
among cells can lead to heritable variations that may underlay some of the mechanics in
developmental plasticity and canalisation.
Heritability may also occur at even larger scales. For example, ecological inheritance through
the process of niche construction is defined by the regular and repeated activities
of organisms in their environment. 
This generates a legacy of effects that modify and feed back into the selection regime of 
subsequent generations.
Descendants inherit genes plus environmental characteristics generated by the ecological
actions of ancestors.
Other examples of heritability in evolution that are not under the direct control of genes 
include the inheritance of cultural traits and symbiogenesis. 
%--------------------------------------------------------------------------------------------------
\subsection{Genetics}
Genetics is a branch of biology concerned with the study of genes, genetic variation, and heredity 
in organisms.

Though heredity had been observed for millennia, Gregor Mendel, Moravian scientist and
Augustinian friar working in the 19th century in Brno, was the first to study genetics 
scientifically.
Mendel studied "trait inheritance", patterns in the way traits are handed down from parents to
offspring.
He observed that organisms (pea plants) inherit traits by way of discrete ``units of inheritance''.
This term, still used today, is a somewhat ambiguous definition of what is referred to as a gene.

Trait inheritance and molecular inheritance mechanisms of genes are still primary principles of
genetics in the 21st century, but modern genetics has expanded beyond inheritance to studying the 
function and behavior of genes.
Gene structure and function, variation, and distribution are studied within the context of the
cell, the organism (e.g. dominance), and within the context of a population.
Genetics has given rise to a number of subfields, including molecular genetics,
epigenetics and population genetics. Organisms studied within the broad field span the domains of
life (archaea, bacteria, and eukarya).

Genetic processes work in combination with an organism's environment and experiences to influence
development and behavior, often referred to as nature versus nurture.
The intracellular or extracellular environment of a living cell or organism may switch gene 
transcription on or off. 
A classic example is two seeds of genetically identical corn, one placed in a temperate
climate and one in an arid climate (lacking sufficient waterfall or rain).
While the average height of the two corn stalks may be genetically determined to be equal, 
the one in the arid climate only grows to half the height of the one in the temperate climate
due to lack of water and nutrients in its environment. 

Modern genetics started with Mendel's studies of the nature of inheritance in plants.
In his paper "Versuche über Pflanzenhybriden" ("Experiments on Plant Hybridization"), 
presented in 1865 to the Naturforschender Verein (Society for Research in Nature) in Brünn,
Mendel traced the inheritance patterns of certain traits in pea plants and described them
mathematically.
Although this pattern of inheritance could only be observed for a few traits, Mendel's work 
suggested that heredity was particulate, not acquired, and that the inheritance patterns of
many traits could be explained through simple rules and ratios.

The importance of Mendel's work did not gain wide understanding until 1900, after his death,
when Hugo de Vries and other scientists rediscovered his research.
William Bateson, a proponent of Mendel's work, coined the word genetics in 1905
(the adjective genetic, derived from the Greek word genesis, "origin", predates the noun and was
first used in a biological sense in 1860).
Bateson both acted as a mentor and was aided significantly by the work of other scientists from
Newnham College at Cambridge, specifically the work of Becky Saunders, Nora Darwin Barlow, and 
Muriel Wheldale Onslow.
Bateson popularized the usage of the word genetics to describe the study of inheritance in his
inaugural address to the Third International Conference on Plant Hybridization in
London in 1906.

After the rediscovery of Mendel's work, scientists tried to determine which molecules in the cell
were responsible for inheritance. 
In 1900, Nettie Stevens began studying the mealworm.] Over the next 11 years, she discovered that
females only had the X chromosome and males had both X and Y chromosomes.
She was able to conclude that sex is a chromosomal factor and is determined by the male.
In 1911, Thomas Hunt Morgan argued that genes are on chromosomes, based on observations of a
sex-linked white eye mutation in fruit flies.
In 1913, his student Alfred Sturtevant used the phenomenon of genetic linkage to show that genes
are arranged linearly on the chromosome.

The molecular basis for genes is deoxyribonucleic acid (DNA).
DNA is composed of a chain of nucleotides, of which there are four types:
\begin{itemize}
	\item adenine (A),
	\item cytosine (C),
	\item guanine (G),
	\item thymine (T).
\end{itemize}
Genetic information exists in the sequence of these nucleotides, and genes exist as stretches of
sequence along the DNA chain.
Viruses are the only exception to this rule—sometimes viruses use the very similar molecule RNA
instead of DNA as their genetic material.
Viruses cannot reproduce without a host and are unaffected by many genetic processes,
so tend not to be considered living organisms.

DNA normally exists as a double-stranded molecule, coiled into the shape of a double helix.
Each nucleotide in DNA preferentially pairs with its partner nucleotide on the opposite strand:
A pairs with T, and C pairs with G. Thus, in its two-stranded form, each strand effectively
contains all necessary information, redundant with its partner strand.
This structure of DNA is the physical basis for inheritance: DNA replication duplicates the
genetic information by splitting the strands and using each strand as a template for synthesis of a
new partner strand.

Genes are arranged linearly along long chains of DNA base-pair sequences. In bacteria, each cell 
usually contains a single circular genophore, while eukaryotic organisms 
(such as plants and animals) have their DNA arranged in multiple linear chromosomes.
These DNA strands are often extremely long; the largest human chromosome, for example,
is about 247 million base pairs in length.The DNA of a chromosome is associated with
structural proteins that organize, compact, and control access to the DNA, forming a material
called chromatin; in eukaryotes, chromatin is usually composed of nucleosomes, 
segments of DNA wound around cores of histone proteins.
The full set of hereditary material in an organism (usually the combined DNA sequences of all 
chromosomes) is called the genome.

DNA is most often found in the nucleus of cells, but Ruth Sager helped in the discovery of
nonchromosomal genes found outside of the nucleus.
In plants, these are often found in the chloroplasts and in other organisms, in the mitochondria.
These nonchromosomal genes can still be passed on by either partner in sexual reproduction and
they control a variety of hereditary characteristics that replicate and remain active throughout 
generations.

While haploid organisms have only one copy of each chromosome, most animals and many plants are
diploid, containing two of each chromosome and thus two copies of every gene.
The two alleles for a gene are located on identical loci of the two homologous chromosomes,
each allele inherited from a different parent.

%--------------------------------------------------------------------------------------------------
\subsection{Evolution of intelligence}
Two principles govern the evolution and increase of intelligence in the animal kingdom.
\begin{enumerate}
	\item The first is that from time to time the species occupy new environments or niches that
		require a greater cognitive capacity. When this happened, these species adapted by
		developing larger brains to allow for greater intelligence.
    \item The second principle is that carnivores and herbivores have embarked on an 
		``arms race'' in which carnivores had to become smarter to catch herbivores,
		while herbivores had to become smarter to avoid capture by carnivores.
		Richard Dawkins and John Krebs (1979) provided a useful account of this process.
\end{enumerate}

Comparisons between species in terms of brain size and intelligence are problematic because there
is a strong association between brain size and body size.
The reason is that a large part of the brain is devolved body functions, so that large species
have a large brain.
To control body size and compare brain size of different species, Jerison devised the concept 
of encephalization quotient (EQ) as a measure of brain size versus body size.
He established the QE of live mammals at 1.0 and expresses the EQs of other extinct and living
species against this norm. Jerison defines the intelligence of species as their EQ,
which determines the brain’s ability to process information

The explanation for this development is that reptiles were largely diurnal and relied primarily on
vision to obtain information about the world. 
As with current reptiles, their behavior consisted largely of cabled responses to visual stimuli.
The first mammals were small animals the size of a rat and occupied a nocturnal niche, they slept
all day and fed at night.
This niche was advantageous because it offered protection against predatory reptiles, but it had
the disadvantage of making the vision seriously inadequate for gathering information about the
outside world.
To overcome this problem, very nocturnal mammals have developed their senses of hearing, smell, 
touch and an integrating processor to obtain and analyze information from all three senses, as
well as vision.
They were then able to integrate the information obtained from the four senses to identify
predators, food and breeding partners.

The development of information processing capabilities such as hearing, smell and touch
necessitated the broadening of auditory, olfactory and tactile brain centers and the development 
of an integrative capacity to combine information obtained from four senses.
These new cognitive functions necessitated a five-fold increase in the encephalization quotient
from that of the average fish or reptile from 0.05 to 0.25.

Table 5 shows that 60 million years ago, average mammalian EQ increased to 0.75, which is three 
times higher than the first mammal’s 0.25. Line 6 shows that over the next 60 million years,
the average EQ for mammals increased again to 1.0.
Thus, during the 225 million years since their first appearance, the average EQ for mammals has 
increased about fourfold.
This increase is largely attributable to the ``arms race'' between carnivores and herbivores,
each exerting selection pressure on the other to obtain greater intelligence.

A number of attempts have been made to evaluate the intelligence of monkeys and pre-human hominids
using Piaget’s theory of intelligence development in children. 
Piaget’s theory states that children progress through four stages of cognitive development.
The first is the sensorimotor stage of early childhood in which the child learns the properties of
objects, space, time and causality. 
Around the age of two, children move to the ``pre-operational'' stage, in which they acquire
abstract language and concepts but are not yet able to understand logical principles. 
This stage lasts until the age of about six. In Western societies, children around the age of
seven head for the ``concrete operations'' stage when they can understand logical principles,
but only in concrete terms.
Around the age of twelve, children enter the fourth and final stage, that of 
``formal operations'' when they become able to think logically in terms of general principles
dissociated from concrete examples.
The applications of this theory to the intelligence of apes and pre-humans have been summarized by
Parker and McKinney (1999).
Their conclusion is that most monkey species do not progress beyond the first stage of Piaget,
so they remain at the cognitive level of humans for about two years.
On the ladder of human intelligence, their IQ would be about twelve (12).
The most encephalated monkeys reach the stage of pre-surgery in Piaget, which corresponds to
the cognitive level of the average European aged from three to four years.
Their IQ is about 22. Wynn (1989) attempted to estimate the cognitive level reached by successive
hominid species on the Piaget scale.
His conclusion is that Homo habilis, who lived in East Africa about 2.4 million years ago and
made simple tools had to reach an early stage of pre-operational abilities, almost identical to
that of monkeys. (IQ of 22). Homo erectus, which appeared around 1.7 million years ago with a
slightly larger brain, was able to create more sophisticated stone tools, including bifaceous hand
axes, which required concrete operational thinking such as than that produced by contemporary
Europeans aged 7 to 8 years. It can be deduced that their IQ was about 50.



%====================================================================================================
\section{Genetic algorithms}

%--------------------------------------------------------------------------------------------------
\subsection{Representation of data}

%--------------------------------------------------------------------------------------------------
\subsection{Selection}

\subsubsection{Roulette}
Fitness proportionate is the first type of selection that was introduced when genetic algorithms
were first being developed.
Because of this it has historical background. It is also known as roulette wheel selection due 
to the similarity of selection it has with a physical roulette wheel. 
How it works is that for a set of N elements,each with a fitness $F_{0}, F_{1}, \cdots, F_{n}$,
it finds the sum of the fitness for each element in the set and gives each element a chance to
be selected with the individual fitness over the sum of the fitness. 
In mathematical notation, the chance, $C$,that any element $X$ with fitness $F_{x}$ would have 
to be chosen is
\begin{equation}
	\label{equ:rulette_prob}
	C = \frac{F_{x}}{\sum{i=1}{n}i},
\end{equation}
The pseudo code for this function is as follows 
\begin{lstlisting}[language=Python]
import numpy as np
    
def incmatrix(genl1,genl2):
    m = len(genl1)
    n = len(genl2)
    M = None #to become the incidence matrix
    VT = np.zeros((n*m,1), int)  #dummy variable
    
    #compute the bitwise xor matrix
    M1 = bitxormatrix(genl1)
    M2 = np.triu(bitxormatrix(genl2),1) 

    for i in range(m-1):
        for j in range(i+1, m):
            [r,c] = np.where(M2 == M1[i,j])
            for k in range(len(r)):
                VT[(i)*n + r[k]] = 1;
                VT[(i)*n + c[k]] = 1;
                VT[(j)*n + r[k]] = 1;
                VT[(j)*n + c[k]] = 1;
                
                if M is None:
                    M = np.copy(VT)
                else:
                    M = np.concatenate((M, VT), 1)
                
                VT = np.zeros((n*m,1), int)
    
    return M
\end{lstlisting}
%--------------------------------------------------------------------------------------------------
\subsection{Crossover or asexual reproduction}

%--------------------------------------------------------------------------------------------------
\subsection{Mutation}

%--------------------------------------------------------------------------------------------------
\subsection{Elite}

%====================================================================================================
\section{Neuroevolution}

%--------------------------------------------------------------------------------------------------
\subsection{Deep neural networks}

%--------------------------------------------------------------------------------------------------
\subsection{Neuroevolution for agumented topologies}
